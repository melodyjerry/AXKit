//
//  CacheTableView.m
//  AXKit
//
//  Created by xaoxuu on 11/05/2017.
//  Copyright Â© 2017 Titan Studio. All rights reserved.
//

#import "CacheTableView.h"

@interface CacheTableView ()



@end

@implementation CacheTableView



- (void)setupTableViewDataSource:(void (^)(NSMutableArray<BaseTableModelSection *> *))completion{
    if (completion) {
        completion(services.cache.cacheList);
    }
}



- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath{
    if (editingStyle == UITableViewCellEditingStyleDelete) {
        BaseTableModelRow *model = [self rowModel:indexPath];
        [services.cache removeObjWithKey:model.title completion:^{
            
        }];
        [self deleteCellWithIndexPath:indexPath];
    }
}


@end
